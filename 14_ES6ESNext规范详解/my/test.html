<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>vue 钩子函数 使用async await</title>
</head>

<script src="https://cdn.bootcss.com/vue/2.5.17/vue.min.js"></script>
<body>
  <div id="app">
    <div v-for="item in list">
      {{ item }}
    </div>
  </div>

  <script type="text/javascript">
    var app = new Vue({
      el: '#app',
      data: {
        list: [1, 2, 3],
        l: []
      },
      async created() {
        await new Promise((resolve) => {
          setTimeout(() => {
            this.l = [4, 5, 6]
            resolve([4, 5, 6])
          }, 3000)
        })
        this.$nextTick(() => {
          this.list = [...this.l]
          console.log('nextTick')
        })
      },
      async mounted() {
        await new Promise((resolve) => {
          setTimeout(() => {
            console.log('mounted')
            resolve([4, 5, 6])
          }, 5000)
        })
        // this.list = [...this.l]
      }
    })
  </script>

</body>

</html>